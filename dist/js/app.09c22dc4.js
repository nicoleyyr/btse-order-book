(function(){"use strict";var e={312:function(e,t,o){var a=o(963),r=o(252);function l(e,t,o,a,l,i){const s=(0,r.up)("Table");return(0,r.wg)(),(0,r.j4)(s)}var i=o(577),s=o.p+"img/IconArrowDown.840a00c9.svg";const n=e=>((0,r.dD)("data-v-4dd666bd"),e=e(),(0,r.Cn)(),e),c={class:"table"},u=(0,r.uE)('<p class="table-title" data-v-4dd666bd>Order Book</p><div class="table-content-row table-content-row-head" data-v-4dd666bd><p class="table-head" data-v-4dd666bd>Price(USD)</p><p class="table-head" data-v-4dd666bd>Size</p><p class="table-head" data-v-4dd666bd>Total</p></div>',2),d=["data-index"],h=["data-index","onMouseover"],p=["data-index","onMouseover"],b=["data-index","onMouseover"],f={class:"tooltip"},v={class:"table-last-price"},y=n((()=>(0,r._)("img",{class:"table-arrow",src:s,alt:"arrow"},null,-1))),m=["data-index"],g=["data-index","onMouseover"],P=["data-index","onMouseover"],w=["data-index","onMouseover"],S={class:"tooltip"};function z(e,t,o,a,l,s){return(0,r.wg)(),(0,r.iD)("div",c,[u,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.sellQuote,((e,o)=>((0,r.wg)(),(0,r.iD)(r.HY,{key:e-o},[o<=7?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,i.C_)(["table-content-row table-content-row-body table-content-row-body-sell",{"new-price":"-1"!=l.differentSellPrice.indexOf(l.sellPrice[o])}]),"data-index":"sell-"+o},[(0,r._)("p",{class:"table-content table-content-price","data-index":"sell-"+o,onMouseover:e=>s.hover(o,"sell",e),onMouseleave:t[0]||(t[0]=e=>s.leave("sell",e))},(0,i.zw)(l.formatSellPrice[o]),41,h),(0,r._)("p",{class:(0,i.C_)(["table-content table-content-size",{"size-increase":s.compareSize(o,l.sellQuote,l.sameSellPriceQuote,"increase"),"size-decrease":s.compareSize(o,l.sellQuote,l.sameSellPriceQuote,"decrease")}]),"data-index":"sell-"+o,onMouseover:e=>s.hover(o,"sell",e),onMouseleave:t[1]||(t[1]=e=>s.leave("sell",e))},(0,i.zw)(e.size),43,p),(0,r._)("div",{class:"table-content table-content-total","data-index":"sell-"+o,onMouseover:e=>s.hover(o,"sell",e),onMouseleave:t[2]||(t[2]=e=>s.leave("sell",e))},[(0,r.Uk)((0,i.zw)(l.sellTotal[o])+" ",1),(0,r._)("div",f,[(0,r._)("p",null,"Avg Price: "+(0,i.zw)(l.formatAvgPrice)+" USD",1),(0,r._)("p",null,"Total Value: "+(0,i.zw)(l.formatTotalValue)+" USD",1)])],40,b)],10,d)):(0,r.kq)("",!0)],64)))),128)),(0,r._)("div",{class:(0,i.C_)(["table-last-price-container",{"price-no-change":l.gainNoChange,"price-up":l.gainUp,"price-down":l.gainDown}])},[(0,r._)("p",v,(0,i.zw)(l.lastPrice),1),y],2),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.buyQuote,((e,o)=>((0,r.wg)(),(0,r.iD)(r.HY,{key:e-o},[o<=7?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,i.C_)(["table-content-row table-content-row-body table-content-row-body-buy",{"new-price":"-1"!=l.differentBuyPrice.indexOf(l.buyPrice[o])}]),"data-index":"buy-"+o},[(0,r._)("p",{class:"table-content table-content-price","data-index":"buy-"+o,onMouseover:e=>s.hover(o,"buy",e),onMouseleave:t[3]||(t[3]=e=>s.leave("buy",e))},(0,i.zw)(l.formatBuyPrice[o]),41,g),(0,r._)("p",{class:(0,i.C_)(["table-content table-content-size",{"size-increase":s.compareSize(o,l.buyQuote,l.sameBuyPriceQuote,"increase"),"size-decrease":s.compareSize(o,l.buyQuote,l.sameBuyPriceQuote,"decrease")}]),"data-index":"buy-"+o,onMouseover:e=>s.hover(o,"buy",e),onMouseleave:t[4]||(t[4]=e=>s.leave("buy",e))},(0,i.zw)(e.size),43,P),(0,r._)("div",{class:"table-content table-content-total","data-index":"buy-"+o,onMouseover:e=>s.hover(o,"buy",e),onMouseleave:t[5]||(t[5]=e=>s.leave("buy",e))},[(0,r.Uk)((0,i.zw)(l.buyTotal[o])+" ",1),(0,r._)("div",S,[(0,r._)("p",null,"Avg Price: "+(0,i.zw)(l.formatAvgPrice)+" USD",1),(0,r._)("p",null,"Total Value: "+(0,i.zw)(l.formatTotalValue)+" USD",1)])],40,w)],10,m)):(0,r.kq)("",!0)],64)))),128))])}var Q={name:"Table",data(){return{url:"/api/futures/api/v2.1/orderbook/L2",apiData:[],formatBuyPrice:[],formatSellPrice:[],timer:"",lastPrice:"",gainNoChange:!1,gainUp:!1,gainDown:!1,buyQuote:[],buyPrice:[],buySize:[],buyTotal:[],sellQuote:[],sellPrice:[],sellSize:[],sellTotal:[],formatTotalValue:0,formatAvgPrice:0,oldBuyPrice:[],oldSellPrice:[],oldSellQuote:[],oldBuyQuote:[],differentBuyPrice:[],differentSellPrice:[],sameSellPriceQuote:[],sameBuyPriceQuote:[]}},methods:{compareSize(e,t,o,a){let r=!1;if(o.length>0&&t[e].price==o[e].price)switch(a){case"increase":r=o[e].size>t[e].size;break;case"decrease":r=o[e].size<t[e].size;break}return r},commaFormat(e){return e.toString().replace(/^(-?\d+?)((?:\d{3})+)(?=\.\d+$|$)/,(function(e,t,o){return t+o.replace(/\d{3}/g,",$&")}))},priceListFormat(e){let t=this,o=[];return e.forEach((e=>{o.push(t.commaFormat(e.price))})),o},hover(e,t,o){let a=o.target;if(!a.classList.contains("tooltip")){let o=a.parentElement,r=o.childNodes;if(r&&(r.forEach((e=>{e.classList.add("hover")})),o.classList.add("hover"),!o.classList.contains("tooltip"))){let e=o.getAttribute("data-index").split("-")[1];switch(t){case"sell":for(let t=7;t>e;t--)document.querySelector(`[data-index="sell-${t}"]`).classList.add("hover-thorough"),document.querySelector(`[data-index="sell-${t}"]`).childNodes.forEach((e=>{e.classList.contains("tooltip")||e.classList.add("hover-thorough")}));break;case"buy":for(let t=0;t<e;t++)document.querySelector(`[data-index="buy-${t}"]`).classList.add("hover-thorough"),document.querySelector(`[data-index="buy-${t}"]`).childNodes.forEach((e=>{e.classList.contains("tooltip")||e.classList.add("hover-thorough")}));break}}let l=0,i=0;switch(t){case"sell":for(let t=7;t>=e;t--)l+=parseFloat(this.sellQuote[t].price)*parseFloat(this.sellQuote[t].size);i=l/parseFloat(this.sellTotal[e]);break;case"buy":for(let t=0;t<=e;t++)l+=parseFloat(this.buyQuote[t].price)*parseFloat(this.buyQuote[t].size);i=l/parseFloat(this.buyTotal[e]);break}this.formatTotalValue=this.commaFormat(l.toFixed(1)),this.formatAvgPrice=this.commaFormat(i.toFixed(1))}},leave(e,t){let o=t.target;if(!o.classList.contains("tooltip")){let t=o.parentElement,a=t.childNodes;if(a&&(a.forEach((e=>{e.classList&&e.classList.contains("hover")&&e.classList.remove("hover")})),t.classList.contains("hover")&&t.classList.remove("hover"),!t.classList.contains("tooltip"))){let o=t.getAttribute("data-index").split("-")[1];switch(e){case"sell":for(let e=7;e>o;e--)document.querySelector(`[data-index="sell-${e}"]`).classList.contains("hover-thorough")&&document.querySelector(`[data-index="sell-${e}"]`).classList.remove("hover-thorough"),document.querySelector(`[data-index="sell-${e}"]`).childNodes.forEach((e=>{e.classList.contains("tooltip")||e.classList.contains("hover-thorough")&&e.classList.remove("hover-thorough")}));break;case"buy":for(let e=0;e<o;e++)document.querySelector(`[data-index="buy-${e}"]`).classList.contains("hover-thorough")&&document.querySelector(`[data-index="buy-${e}"]`).classList.remove("hover-thorough"),document.querySelector(`[data-index="buy-${e}"]`).childNodes.forEach((e=>{e.classList.contains("tooltip")||e.classList.contains("hover-thorough")&&e.classList.remove("hover-thorough")}));break}}}},fetchData(){let e=this;e.axios.get(e.url).then((t=>{if(200==t.status){switch(e.apiData=t.data,e.lastPrice=t.data.lastPrice,e.formatBuyPrice=e.priceListFormat(t.data.buyQuote),e.formatSellPrice=e.priceListFormat(t.data.sellQuote),e.buyQuote=t.data.buyQuote,e.sellQuote=t.data.sellQuote,t.data.gain){case 0:e.gainNoChange=!0,e.gainUp=!1,e.gainDown=!1;break;case 1:e.gainNoChange=!1,e.gainUp=!0,e.gainDown=!1;break;case-1:e.gainNoChange=!1,e.gainUp=!1,e.gainDown=!0;break}e.sellPrice=[],e.buyPrice=[],e.sellQuote.forEach(((t,o)=>{o<8&&(e.sellSize.unshift(parseFloat(t.size)),e.sellPrice.push(t.price))})),e.buyQuote.forEach(((t,o)=>{o<8&&(e.buySize.push(parseFloat(t.size)),e.buyPrice.push(t.price))}));let o=0,a=0;if(e.sellTotal=e.sellSize.map((o=0,e=>o+=e)).reverse(),e.buyTotal=e.buySize.map((a=0,e=>a+=e)),e.oldSellPrice.length>0){e.sameSellPriceQuote=[],e.differentSellPrice=e.sellPrice.filter((t=>!e.oldSellPrice.includes(t)));let t=e.oldSellPrice.filter((t=>e.sellPrice.includes(t)));e.sellQuote.forEach(((o,a)=>{t.forEach((t=>{o.price==t&&e.oldSellQuote.forEach((o=>{o.price==t&&e.sameSellPriceQuote.push({price:o.price,size:o.size})}))})),!e.sameSellPriceQuote[a]&&e.sameSellPriceQuote.push({price:"",size:""})}))}if(e.oldBuyPrice.length>0){e.sameBuyPriceQuote=[],e.differentBuyPrice=e.buyPrice.filter((t=>!e.oldBuyPrice.includes(t)));let t=e.oldBuyPrice.filter((t=>e.buyPrice.includes(t)));e.buyQuote.forEach(((o,a)=>{t.forEach((t=>{o.price==t&&e.oldBuyQuote.forEach((o=>{o.price==t&&e.sameBuyPriceQuote.push({price:o.price,size:o.size})}))})),!e.sameBuyPriceQuote[a]&&e.sameBuyPriceQuote.push({price:"",size:""})}))}e.oldSellPrice=[...e.sellPrice],e.oldBuyPrice=[...e.buyPrice],e.oldSellQuote=[...e.sellQuote],e.oldBuyQuote=[...e.buyQuote]}})).catch((e=>{console.log(e)}))},cancelAutoUpdate(){clearInterval(this.timer)}},mounted(){this.fetchData(),this.timer=setInterval(this.fetchData,3e3)},beforeDestroy(){this.cancelAutoUpdate()}},x=o(744);const L=(0,x.Z)(Q,[["render",z],["__scopeId","data-v-4dd666bd"]]);var k=L,_={name:"App",components:{Table:k}};const D=(0,x.Z)(_,[["render",l]]);var B=D,E=o(669),M=o.n(E),T=o(346);(0,a.ri)(B).use(T.Z,M()).mount("#app")}},t={};function o(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a](l,l.exports,o),l.loaded=!0,l.exports}o.m=e,function(){o.amdO={}}(),function(){var e=[];o.O=function(t,a,r,l){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],l=e[u][2];for(var s=!0,n=0;n<a.length;n++)(!1&l||i>=l)&&Object.keys(o.O).every((function(e){return o.O[e](a[n])}))?a.splice(n--,1):(s=!1,l<i&&(i=l));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,r,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/btse-order-book/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,l,i=a[0],s=a[1],n=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(n)var u=n(o)}for(t&&t(a);c<i.length;c++)l=i[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},a=self["webpackChunkorder_book"]=self["webpackChunkorder_book"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(312)}));a=o.O(a)})();
//# sourceMappingURL=app.09c22dc4.js.map